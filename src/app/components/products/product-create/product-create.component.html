<div class="product-create-container">
    <h2>Create Product</h2>

    <form #productForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
        <div class="form-grid">
            <div>
                <label for="id">Product ID</label>
                <input type="number" id="id" name="id" [(ngModel)]="product.id" #id="ngModel" required />
                <div *ngIf="id.invalid && (id.dirty || id.touched)">
                    <small class="text-danger" *ngIf="id.errors?.required">Product ID is required.</small>
                </div>
            </div>

            <div>
                <label for="name">Product Name</label>
                <input type="text" id="name" name="name" [(ngModel)]="product.name" #name="ngModel" required
                    minlength="3" />
                <div *ngIf="name.invalid && (name.dirty || name.touched)">
                    <small class="text-danger" *ngIf="name.errors?.required">Name is required.</small>
                    <small class="text-danger" *ngIf="name.errors?.minlength">Minimum 3 characters required.</small>
                </div>
            </div>

            <div>
                <label for="stock">Stock</label>
                <input type="number" id="stock" name="stock" [(ngModel)]="product.stock" #stock="ngModel" required />
                <div *ngIf="stock.invalid && (stock.dirty || stock.touched)">
                    <small class="text-danger">Stock is required.</small>
                </div>
            </div>

            <div>
                <label for="category">Category</label>
                <input type="text" id="category" name="category" [(ngModel)]="product.category" #category="ngModel"
                    required />
                <div *ngIf="category.invalid && (category.dirty || category.touched)">
                    <small class="text-danger">Category is required.</small>
                </div>
            </div>

            <div>
                <label for="description">Description</label>
                <input type="text" id="description" name="description" [(ngModel)]="product.description"
                    #description="ngModel" required />
                <div *ngIf="
            description.invalid && (description.dirty || description.touched)
          ">
                    <small class="text-danger">Description is required.</small>
                </div>
            </div>

            <div>
                <label for="amount">Amount</label>
                <input type="number" id="amount" name="amount" [(ngModel)]="product.amount" #amount="ngModel"
                    required />
                <div *ngIf="amount.invalid && (amount.dirty || amount.touched)">
                    <small class="text-danger">Amount is required.</small>
                </div>
            </div>
        </div>

        <!-- Image Upload -->
        <!-- <div>
            <label>Select Images</label>
            <input type="file" (change)="onMediaChange($event)" multiple accept="image/jpeg" />

            <div class="mediaFlex d-grid">
                <div *ngFor="let media of mediaArray; let i = index">
                    <span (click)="removeMedia(i)">âœ•</span>
                    <img [src]="media.image" alt="preview" style="width: 100px" />
                </div>
            </div>
        </div> -->
                <div class="">
            <div>
                <div class="formInput" style="position: relative;">
                    <label class="manrope font_20" style=" cursor: pointer; text-align: center; position: absolute; top: 0; font-size: 18px; font-weight: 600;border: 1px solid transparent; padding: 15px;border-radius: 8px;background: linear-gradient(135deg, #667eea, #764ba2); color: white;">Select Images</label>
                    <input type="file" name="media" #media multiple (change)="onMediaChange($event)" required accept="image/jpeg" style="opacity: 0;z-index: 9;position: relative; cursor: pointer; width: 200px; padding: 15px">
                </div>
            </div>
            <div class="mediaFlex d-grid">
                <div *ngFor="let media of mediaArray; let i = index" class="mediaGallery">
                    <span class="material-symbols-outlined" (click)="removeMedia(i, media.id)" style="cursor: pointer;">
                        close
                    </span>
                    <img [src]="media.image" alt="" style="aspect-ratio: 1; object-fit: cover; width: 85%;
    border-radius: 10px;">
                </div>
            </div>
        </div>


        <button type="submit" [disabled]="productForm.invalid">Create</button>

        <p *ngIf="submitted">Product successfully created!</p>
    </form>
</div>